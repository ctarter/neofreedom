var gdpol_admin_core;(function($,c,d,f){gdpol_admin_core={storage:{url:""},init:function(){if(gdpol_data.page==="tools"){gdpol_admin_core.tools.init()}if(gdpol_data.page==="polls"){gdpol_admin_core.dialogs.polls();gdpol_admin_core.polls.init()}if(gdpol_data.page==="votes"){gdpol_admin_core.dialogs.votes();gdpol_admin_core.votes.init()}},dialogs:{classes:function(a){var b="wp-dialog d4p-dialog gdpol-modal-dialog";if(a!==""){b+=" "+a}return b},defaults:function(){return{width:480,height:"auto",minHeight:24,autoOpen:false,resizable:false,modal:true,closeOnEscape:false,zIndex:300000,open:function(){$(".gdpol-button-focus").focus()}}},icons:function(b){$(b).next().find(".ui-dialog-buttonset button").each(function(){var a=$(this).data("icon");if(a!==""){$(this).find("span.ui-button-text").prepend(gdpol_data["button_icon_"+a])}})},polls:function(){var a=$.extend({},gdpol_admin_core.dialogs.defaults(),{dialogClass:gdpol_admin_core.dialogs.classes("gdpol-dialog-hidex"),buttons:[{id:"gdpol-polls-del-delete",class:"gdpol-dialog-button-delete",text:gdpol_data.dialog_button_delete,data:{icon:"delete"},click:function(){c.location.href=gdpol_admin_core.storage.url}},{id:"gdpol-delete-del-cancel",class:"gdpol-dialog-button-cancel gdpol-button-focus",text:gdpol_data.dialog_button_cancel,data:{icon:"cancel"},click:function(){$("#gdpol-dialog-polls-delete").wpdialog("close")}}]}),dlg_disable=$.extend({},gdpol_admin_core.dialogs.defaults(),{dialogClass:gdpol_admin_core.dialogs.classes("gdpol-dialog-hidex"),buttons:[{id:"gdpol-polls-dis-disable",class:"gdpol-dialog-button-delete",text:gdpol_data.dialog_button_disable,data:{icon:"disable"},click:function(){c.location.href=gdpol_admin_core.storage.url}},{id:"gdpol-delete-dis-cancel",class:"gdpol-dialog-button-cancel gdpol-button-focus",text:gdpol_data.dialog_button_cancel,data:{icon:"cancel"},click:function(){$("#gdpol-dialog-polls-disable").wpdialog("close")}}]}),dlg_empty=$.extend({},gdpol_admin_core.dialogs.defaults(),{dialogClass:gdpol_admin_core.dialogs.classes("gdpol-dialog-hidex"),buttons:[{id:"gdpol-polls-emp-disable",class:"gdpol-dialog-button-delete",text:gdpol_data.dialog_button_empty,data:{icon:"empty"},click:function(){c.location.href=gdpol_admin_core.storage.url}},{id:"gdpol-delete-emp-cancel",class:"gdpol-dialog-button-cancel gdpol-button-focus",text:gdpol_data.dialog_button_cancel,data:{icon:"cancel"},click:function(){$("#gdpol-dialog-polls-empty").wpdialog("close")}}]});$("#gdpol-dialog-polls-delete").wpdialog(a);$("#gdpol-dialog-polls-disable").wpdialog(dlg_disable);$("#gdpol-dialog-polls-empty").wpdialog(dlg_empty);gdpol_admin_core.dialogs.icons("#gdpol-dialog-polls-delete");gdpol_admin_core.dialogs.icons("#gdpol-dialog-polls-disable");gdpol_admin_core.dialogs.icons("#gdpol-dialog-polls-empty")},votes:function(){var a=$.extend({},gdpol_admin_core.dialogs.defaults(),{dialogClass:gdpol_admin_core.dialogs.classes("gdpol-dialog-hidex"),buttons:[{id:"gdpol-polls-del-delete",class:"gdpol-dialog-button-delete",text:gdpol_data.dialog_button_delete,data:{icon:"delete"},click:function(){c.location.href=gdpol_admin_core.storage.url}},{id:"gdpol-delete-del-cancel",class:"gdpol-dialog-button-cancel gdpol-button-focus",text:gdpol_data.dialog_button_cancel,data:{icon:"cancel"},click:function(){$("#gdpol-dialog-votes-delete").wpdialog("close")}}]});$("#gdpol-dialog-votes-delete").wpdialog(a);gdpol_admin_core.dialogs.icons("#gdpol-dialog-votes-delete")}},polls:{init:function(){$(".gdpol-button-disable-poll").click(function(e){e.preventDefault();gdpol_admin_core.storage.url=$(this).attr("href");$("#gdpol-dialog-polls-disable").wpdialog("open")});$(".gdpol-button-delete-poll").click(function(e){e.preventDefault();gdpol_admin_core.storage.url=$(this).attr("href");$("#gdpol-dialog-polls-delete").wpdialog("open")});$(".gdpol-button-empty-poll").click(function(e){e.preventDefault();gdpol_admin_core.storage.url=$(this).attr("href");$("#gdpol-dialog-polls-empty").wpdialog("open")})}},votes:{init:function(){$(".gdpol-button-delete-vote").click(function(e){e.preventDefault();gdpol_admin_core.storage.url=$(this).attr("href");$("#gdpol-dialog-votes-delete").wpdialog("open")})}},tools:{init:function(){if(gdpol_data.panel==="export"){gdpol_admin_core.tools.export()}},export:function(){$("#gdpol-tool-export").click(function(e){e.preventDefault();c.location=$("#gdpol-export-url").val()})}}};gdpol_admin_core.init()})(jQuery,window,document);
